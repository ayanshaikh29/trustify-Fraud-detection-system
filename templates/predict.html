<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Trustify - Fraud Detection</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --primary: #00c6ff;
      --secondary: #0072ff;
      --success: #4dff88;
      --danger: #ff4d4d;
      --warning: #ffcc00;
      --bg: #0f2027;
      --hero-grad1: #141e30;
      --hero-grad2: #243b55;
      --hero-grad3: #274046;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding-top: 80px;
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      color: white;
      overflow-x: hidden;
      position: relative;
    }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px);} to { opacity: 1; transform: translateY(0);} }
    @keyframes pulse { 0%,100% { transform: scale(1);} 50% { transform: scale(1.03);} }

    a {
      color: white;
      text-decoration: none;
      transition: 0.3s ease;
    }
    a:hover, .quick-link:hover {
      text-decoration: underline;
      color: var(--primary);
      box-shadow: 0 0 18px 2px var(--primary), 0 2px 10px var(--secondary);
      transform: translateY(-2px) scale(1.06);
      transition: box-shadow 0.28s, color 0.28s, transform 0.25s;
      animation: pulse 0.7s;
    }

    .section-animated { animation: fadeIn 1.5s ease; }

    /* Updated form input and select styling */
    input[type="number"], input[type="text"], select, label, button { 
      transition: all 0.3s ease; 
    }
    
    input[type="number"], input[type="text"], select {
      padding: 12px 15px;
      border: 2px solid transparent;
      border-radius: 10px;
      background: #e0f7fa;
      color: #333;
      font-size: 1rem;
      width: 100%;
      font-family: inherit;
    }
    
    input[type="number"]:focus, input[type="text"]:focus, select:focus {
      outline: none;
      background: #b2ebf2;
      border-color: var(--primary);
      transform: scale(1.02);
      box-shadow: 0 0 10px rgba(0, 198, 255, 0.3);
    }

    label {
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 5px;
      font-size: 1rem;
    }

    button {
      padding: 16px 24px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      font-size: 1.1rem;
      font-weight: bold;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      animation: pulse 3s infinite;
      box-shadow: 0 4px 15px rgba(0, 114, 255, 0.4);
      margin-top: 10px;
    }
    
    button:hover, button:focus {
      background: linear-gradient(135deg, var(--secondary), var(--primary));
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(0, 198, 255, 0.6);
      animation: none;
    }

    /* Navbar */
    .navbar {
      background: rgba(0, 0, 0, 0.6);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 999;
      backdrop-filter: blur(5px);
    }
    .navbar h2 {
      margin: 0;
      font-size: 1.8rem;
      color: var(--primary);
      flex: 1;
    }
    .navbar nav {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    /* Hero Section */
    .hero {
      height: 90vh;
      min-height: 520px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(120deg, var(--hero-grad2), var(--hero-grad1), var(--hero-grad3));
      color: white;
      text-align: center;
      position: relative;
      overflow: hidden;
      padding: 0 20px;
      z-index: 1;
      background-size: 180% 180%;
      animation: heroBGMove 9s ease-in-out infinite alternate;
    }
    @keyframes heroBGMove {
      0% { background-position: 0% 60%; }
      100% { background-position: 100% 40%; }
    }

    .hero-bg-blur {
      position: absolute;
      border-radius: 50%;
      filter: blur(65px);
      opacity: 0.7;
      z-index: 0;
      pointer-events: none;
      animation-timing-function: ease-in-out;
      mix-blend-mode: lighten;
    }
    .blob1 {
      width: 420px; height: 320px;
      left: -100px; top: 20px;
      background: linear-gradient(120deg, var(--primary), var(--secondary));
      animation: blob1move 17s ease-in-out infinite alternate;
    }
    @keyframes blob1move {
      0% { transform: translateY(0) scale(1);}
      100% { transform: translateY(35px) scale(1.08);}
    }
    .blob2 {
      width: 510px; height: 320px;
      right: -130px; top: 110px;
      background: linear-gradient(135deg, #00ffb3, var(--primary));
      opacity: 0.4;
      animation: blob2move 13s ease-in-out infinite alternate;
    }
    @keyframes blob2move {
      0% { transform: translateY(0) scale(0.88);}
      100% { transform: translateY(-30px) scale(1);}
    }
    .blob3 {
      width: 200px; height: 200px;
      left: 35%; bottom: -80px;
      background: radial-gradient(circle at 40% 40%, var(--danger), transparent 70%);
      opacity: 0.38;
      animation: blob3move 12s ease-in-out infinite alternate;
    }
    @keyframes blob3move {
      0% { transform: scale(1) rotate(0deg);}
      100% { transform: scale(1.12) rotate(20deg);}
    }

    .hero-content {
      position: relative;
      z-index: 2;
      width: 100%;
    }
    .hero-content h1 {
      font-size: 3.5rem;
      margin-bottom: 20px;
      font-weight: 700;
      animation: fadeIn 1s ease-in-out;
      filter: drop-shadow(0 0 16px #00c6ff66);
    }
    .hero-content p {
      font-size: 1.22rem;
      margin-bottom: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      animation: fadeIn 1.5s ease-in-out;
      color: #e6f4fa;
      background: rgba(15,32,39,0.37);
      border-radius: 16px;
      padding: 10px 0;
    }
    .hero-button {
      display: inline-block;
      padding: 12px 30px;
      background-color: var(--primary);
      color: #000;
      font-weight: bold;
      text-decoration: none;
      border-radius: 30px;
      transition: all 0.3s ease;
      animation: fadeIn 2s ease-in-out;
      box-shadow: 0 4px 20px 0 #00c6ff55;
      letter-spacing: 1px;
      font-size: 1.09rem;
    }
    .hero-button:hover {
      background-color: var(--secondary);
      color: white;
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 36px 0 var(--primary);
    }

    /* Form Container */
    .form-container {
      max-width: 600px;
      margin: 60px auto;
      padding: 40px;
      background: rgba(255,255,255,0.08);
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0, 198, 255, 0.2);
      backdrop-filter: blur(10px);
    }
    .form-container:hover {
      box-shadow: 0 12px 40px rgba(0, 198, 255, 0.4);
      transform: translateY(-2px);
    }

    /* Result Box Styling */
    .result-box {
      margin-top: 25px;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      font-weight: bold;
      font-size: 1.1rem;
      animation: pulse 2s infinite;
      border: 2px solid transparent;
    }

    .stat-box {
      flex:1; min-width: 200px;
      background: rgba(255,255,255,0.05);
      padding: 20px;
      border-radius: 12px; text-align: center;
      box-shadow: 0 1px 18px 0 #0072ff10;
    }
    .stat-box:hover {
      box-shadow: 0 0 28px 6px var(--primary), 0 0 14px var(--secondary);
      transform: scale(1.05) translateY(-6px);
      background: rgba(0,198,255, 0.13);
    }
    .info-card {
      background: rgba(255,255,255,0.06);
      border-radius: 12px;
      padding: 30px;
    }
    .info-card:hover {
      box-shadow: 0 0 24px 4px var(--secondary), 0 2px 8px #3336;
      transform: scale(1.04);
    }
    .tip-card {
      flex:1; min-width: 250px;
      background: rgba(255,255,255,0.05);
      padding: 20px;
      border-left: 5px solid var(--primary);
      border-radius: 10px;
    }
    .tip-card:hover {
      border-color: var(--secondary);
      box-shadow: 0 0 18px 4px var(--primary), 0 2px 6px #0004;
      transform: scale(1.04);
    }
    .quick-link {
      padding: 12px 25px;
      background: var(--secondary);
      color: white;
      border-radius: 30px;
      margin-right: 20px;
      display: inline-block;
      font-weight: 600;
      border: 2px solid transparent;
    }
    .quick-link:last-child {
      background: var(--primary);
      margin-right: 0;
    }
    .quick-link:hover {
      box-shadow: 0 0 21px 4px var(--primary);
      background: var(--bg);
      color: var(--primary);
      border: 2px solid var(--primary);
      transform: scale(1.09) translateY(-2px);
    }

    @media (max-width: 800px) {
      .hero-content h1 {font-size: 2.5rem;}
      .hero { height: 60vh; min-height: 400px;}
      .form-container { margin: 40px 20px; padding: 30px 25px;}
    }
    @media (max-width: 600px) {
      .navbar nav {
        flex-direction: column;
        align-items: flex-end;
      }
      .form-container { margin: 30px 15px; padding: 25px 20px;}
      .hero-content h1 {font-size: 2rem;}
      .hero { height: 50vh; min-height: 300px;}
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <h2>Trustify</h2>
    <nav>
      <a href="/">Home</a>
      <a href="/predict">Predict</a>
      <a href="/history">History</a>
      <a href="/about">About</a>
      <a href="/login">Login</a>
    </nav>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-bg-blur blob1"></div>
    <div class="hero-bg-blur blob2"></div>
    <div class="hero-bg-blur blob3"></div>
    <div class="hero-content">
      <h1>Fraud Detection Made Simple</h1>
      <p>Enter your transaction details below and detect potential fraud in seconds using our AI-powered engine.</p>
      <a href="#predict-form" class="hero-button">Start Predicting</a>
    </div>
  </section>
 <!-- PREDICTION FORM (fixed for value persistence) -->
  <div class="form-container section-animated" id="predict-form">
    <h1 style="text-align: center; color: var(--primary); margin-bottom: 30px;">üíº Fraud Detection</h1>
    <form method="post" novalidate style="display: flex; flex-direction: column; gap: 18px;">

      <!-- UPI ID -->
      <div>
        <label for="upi_id">üîó UPI ID:</label>
        <input type="text" id="upi_id" name="upi_id" required placeholder="example@upi" autocomplete="off"
               value="{{ form_data.upi_id }}">
      </div>

      <!-- UTR Number -->
      <div>
        <label for="utr">üÜî UTR Number:</label>
        <input type="text" id="utr" name="utr" required placeholder="123456789012" autocomplete="off"
               value="{{ form_data.utr }}">
      </div>

      <!-- Amount -->
      <div>
        <label for="amount">üí∞ Transaction Amount:</label>
        <input type="number" min="0.01" step="0.01" id="amount" name="amount" required placeholder="Enter amount in ‚Çπ"
               value="{{ form_data.amount }}">
      </div>

      <!-- Time -->
      <div>
        <label for="hour">‚è∞ Transaction Time (0-23):</label>
        <input type="number" min="0" max="23" step="1" id="hour" name="hour" required placeholder="Enter hour (24h format)"
               value="{{ form_data.hour }}">
      </div>

      <!-- Location Match -->
      <div>
        <label for="location_match">üìç Location Matches Previous?</label>
        <select id="location_match" name="location_match" required>
          <option value="">-- Select Location Match --</option>
          <option value="1" {% if form_data.location_match|string == "1" %}selected{% endif %}>Yes (Same Location)</option>
          <option value="0" {% if form_data.location_match|string == "0" %}selected{% endif %}>No (Different Location)</option>
        </select>
      </div>

      <!-- Purpose -->
      <div>
        <label for="purpose">üéØ Transaction Purpose:</label>
        <select id="purpose" name="purpose" required>
          <option value="" {% if not form_data.purpose %}selected{% endif %}>-- Select Purpose --</option>
          <option value="Shopping" {% if form_data.purpose == 'Shopping' %}selected{% endif %}>Shopping</option>
          <option value="Recharge" {% if form_data.purpose == 'Recharge' %}selected{% endif %}>Recharge</option>
          <option value="Groceries" {% if form_data.purpose == 'Groceries' %}selected{% endif %}>Groceries</option>
          <option value="Bill Payment" {% if form_data.purpose == 'Bill Payment' %}selected{% endif %}>Bill Payment</option>
          <option value="Donation" {% if form_data.purpose == 'Donation' %}selected{% endif %}>Donation</option>
          <option value="Reward" {% if form_data.purpose == 'Reward' %}selected{% endif %}>Reward</option>
          <option value="Lottery" {% if form_data.purpose == 'Lottery' %}selected{% endif %}>Lottery</option>
          <option value="Other" {% if form_data.purpose == 'Other' %}selected{% endif %}>Other</option>
        </select>
      </div>

      <!-- Frequency -->
      <div>
        <label for="frequency">üîÑ Previous Transactions to Same UPI:</label>
        <input type="number" min="0" step="1" id="frequency" name="frequency" required placeholder="Enter transaction count"
               value="{{ form_data.frequency }}">
      </div>

      <button type="submit">üîé Detect Fraud</button>
    </form>

    <!-- Result Display -->
    {% if result %}
      {% set color = '#ccc' %}
      {% if 'Fraud' in result %} 
        {% set color = '#ff4d4d' %}
      {% elif 'Legitimate' in result %} 
        {% set color = '#4dff88' %}
      {% elif 'Error' in result %} 
        {% set color = '#ffcc00' %} 
      {% endif %}
      
      <div class="result-box" style="background-color: {{ color }}; color: {{ '#000' if color != '#ccc' else '#fff' }};">
        <div style="white-space: pre-line;">{{ result }}</div>
      </div>
    {% endif %}
  </div>

  <!-- How It Works -->
  <div class="section-animated info-card" style="max-width: 700px; margin: 40px auto;">
    <h2 style="text-align:center; color:var(--primary);">üìò How It Works</h2>
    <p style="margin-top: 15px; line-height: 1.6;">
      Our AI-powered fraud detection engine analyzes transaction patterns based on the amount, time, and other hidden factors to detect suspicious activity in real time.
      It's trained on thousands of fraud cases and improves as more data is provided.
    </p>
  </div>

  <!-- Security Tips -->
  <div class="section-animated" style="max-width: 900px; margin: 30px auto; display: flex; gap: 20px; flex-wrap: wrap;">
    <div class="tip-card">
      <h4>üîê Tip 1: Avoid Sharing OTPs</h4>
      <p>Never share your one-time passwords or PINs with anyone‚Äîeven if they claim to be from the bank.</p>
    </div>
    <div class="tip-card">
      <h4>üß† Tip 2: Verify Transactions</h4>
      <p>Always double-check large or unexpected transactions using your official banking app.</p>
    </div>
  </div>

  <!-- Quick Links -->
  <div class="section-animated" style="text-align: center; margin: 50px auto 20px;">
    <a href="/dashboard" class="quick-link">üìä View Dashboard</a>
    <a href="/help" class="quick-link">‚ùì Need Help?</a>
  </div>

  <div style="text-align: center; padding: 20px; background: rgba(0,0,0,0.4); color: #aaa;">
    ¬© 2025 Trustify | Developed by Team Trustify
  </div>
</body>
</html>

